// jQuery Marquee Plugin - https://stackoverflow.com/questions/10547797/very-simple-very-smooth-javascript-marquee
!function(t){t.fn.textWidth=function(){var e=t(this).html();t(this).html('<span style="white-space:nowrap;">'+e+"</span>");var s=t(this).find("span:first").outerWidth();return t(this).html(e),s},t.fn.marquee=function(e){var s=t(this),i=s.textWidth(),n=s.width(),r=0,o={"text-indent":s.css("text-indent"),overflow:s.css("overflow"),"white-space":s.css("white-space")},h={"text-indent":r,overflow:"hidden","white-space":"nowrap"},e=t.extend(!0,{count:-1,speed:10,leftToRight:!1},e),f=0,p=n-i,a=t.Deferred();if(!(i<n)&&-1!=s.attr("stop"))return s.attr("stop",-1),e.leftToRight?(r=-1*i,r++,p=0):r--,s.css(h),function t(){if(!s.length)return a.reject();if(s.attr("stop")>=0)return s.css(o),s.attr("stop",0),a.resolve();if(r==p){if(++f>=e.count){setTimeout(t,e.speed);return}r=e.leftToRight?-1*i:0}s.css("text-indent",r+"px"),e.leftToRight?r++:r--,setTimeout(t,e.speed)}(),a.promise()}}(jQuery);